@startuml
actor Administrador

participant "cu: ControladorUsuario" as CU
participant "cdu: <Singleton> CatálogoDeUsuarios" as CatU
participant "usr[i]: Usuario" as U

== Consulta de usuario ==
Administrador -> CU : consultar_usuario(usuario_id)
activate CU

CU -> CatU : buscar_usuario(usuario_id)
activate CatU

loop para cada usuario en CatálogoDeUsuarios
    note right of CatU
        Se verifica cada usuario_id
        comparando con los del catálogo.
    end note
    CatU -> U : getId()
    activate U
    U --> CatU : <<id : usuario_id>>
    deactivate U
end

CatU --> CU : <<usuario_id>>
deactivate CatU

alt Usuario encontrado
    CU -> CatU : obtener_datos(usuario_id)
    activate CatU
    CatU --> CU : <<datos_usuario>>
    deactivate CatU
    CU --> Administrador : <<datos_usuario>>
else Usuario no encontrado / error
    CU --> Administrador : <<mensaje de error "Alumno no encontrado">>
end

deactivate CU
@enduml

