@startuml
actor Administrador

participant "cu: ControladorUsuario" as CU
participant "cdu: <Singleton> CatálogoDeUsuarios" as CatU
participant "usr[i]: Usuario" as U

== Modificación de usuario ==
Administrador -> CU : modificar_usuario(usuario_id, nuevos_datos)
activate CU

CU -> CatU : buscar_usuario(usuario_id)
activate CatU

loop para cada usuario en CatálogoDeUsuarios
    note right of CatU
        Se verifica cada usuario_id
        comparando con los del catálogo.
    end note
    CatU -> U : getId()
    activate U
    U --> CatU : <<id : usuario_id>>
    deactivate U
end

CatU --> CU : <<usuario_id>>
deactivate CatU

alt Usuario encontrado
    CU -> CatU : actualizar_datos(usuario_id, nuevos_datos)
    activate CatU
    CatU --> CU : <<confirmación modificación (boolean)>>
    deactivate CatU
    CU --> Administrador : <<confirmación modificación (boolean)>>
else Usuario no encontrado / error
    CU --> Administrador : <<mensaje de error>>
end

deactivate CU
@enduml
