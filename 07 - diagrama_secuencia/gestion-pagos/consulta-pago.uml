@startuml
actor Usuario

participant "cp: ControladorPago" as P
participant "cpi: <Singleton> Cat치logoDePagos" as CatP
participant "pago[i]: Pago" as Pg
participant "pago: Pago" as Pago

== Consulta de pago ==
Usuario -> P : consultar_pago(pago_id)
activate P

P -> CatP : buscar_pago(pago_id)
activate CatP

loop para cada pago en Cat치logoDePagos
    CatP -> Pg : getId()
    activate Pg
    Pg --> CatP : <<id : pago_id>>
      note right of CatP
        Si id = pago_id  
        pago = pago[i]  
        cortar iteraci칩n
      end note
    deactivate Pg
end

CatP --> P : <<pago: Pago>>
deactivate CatP

alt Pago encontrado
    P -> Pago : obtener_detalles()
    activate Pago
    Pago --> P : <<datos del pago>>
    deactivate Pago
    P --> Usuario : <<datos del pago>>
else Pago no encontrado / error
    P --> Usuario : <<mensaje de error("No se encontr칩 el pago solicitado")>>
end

deactivate P
@enduml

