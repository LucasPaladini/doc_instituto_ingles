@startuml
actor Usuario

participant "crp: ControladorRegistroDePagos" as P
participant "ci: ControladorInscripcion" as I

== Registro de pago ==
Usuario -> P : registrar_pago(datos_pago)
activate P

P -> I : verificar_inscripcion(datos_pago)
activate I

I --> P : <<inscripción válida (boolean)>>
deactivate I

alt inscripción válida
    P -> P : crear_pago(datos_pago)
    P --> Usuario : <<confirmación registro (boolean = true), pago_id>>
else inscripción no válida
    P --> Usuario : <<mensaje de error("Ya existe inscripción asociada")>>
end

deactivate P
@enduml

